<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests" />

		<title>Home</title>
		<link rel="stylesheet" href="./styles.css?1.1" type="text/css" />
		<link href="favicon.png" rel="shortcut icon" type="image/x-icon" />
		<link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/anka-coder" type="text/css" />
	</head>

	<body>
		<iframe id="myIframe" src="https://home.alazo.io/"></iframe>
		<div id="search">
			<input id="search-field" type="text" name="search-field" onkeypress="return search(event)" />
		</div>
		<div class="content">
			<div id="clock" class="text-shadow-2px"></div>
			<div class="weather-container margin-top">
				<div class="row bookmark-title">
					<span id="city"></span>
					-
					<span id="weather-description"></span>
					-
					<span id="temp"></span>
				</div>
			</div>
			<div class="bookmark-container margin-top">
				<div class="bookmark-set">
					<div class="bookmark-title">Common</div>
					<div class="bookmark-inner-container">
						<a class="bookmark" href="https://www.amazon.com" target="_blank">Amazon</a>
						<a class="bookmark" href="https://mail.google.com/mail/u/0/" target="_blank">Gmail</a>
						<a class="bookmark" href="https://reddit.com/r/popular" target="_blank">/r/popular</a>
						<a class="bookmark" href="https://youtube.com" target="_blank">Youtube</a>
					</div>
				</div>
				<div class="bookmark-set">
					<div class="bookmark-title">Work</div>
					<div class="bookmark-inner-container">
						<a class="bookmark" href="https://portal.azure.com/#home" target="_blank">Azure Home</a>
						<a class="bookmark" href="https://github.com/blue-white-inc" target="_blank">BW Github</a>
						<a class="bookmark" href="https://app.clickup.com/20534111/v/l/6-392710562-1" target="_blank"
							>ClickUp CPQ</a
						>
						<a class="bookmark" href="https://app.clickup.com/20534111/v/l/6-900101149929-1" target="_blank"
							>ClickUp Lvl 10</a
						>
						<a
							class="bookmark"
							href="https://access.paylocity.com/?client_id=1611b7cc62294e38bc7f7143df65b0c9&redirect_uri=https%3A%2F%2Fwebtime2.paylocity.com%2Fwebtime%2F&response_type=code&scope=openid%20profile%20offline_access&code_challenge=p_gQxnBbOwGp1qc6PPLdiPEMxpmABOlfWUtnhkcsNuo&code_challenge_method=S256&state=OpenIdConnect.AuthenticationProperties%3Du1gVnl5EPpctT0jAWFSqUupJP8Wek_5bGDF8JltUGjAH5dCUhRedH1Zrs5-_iTuP1x7yr2ZryTnAgrB2Oh9efIGLryr_5pjhAh9Dulx7bxMyk46MXR7-ydO6H3rU08onaAn5Lxf4ZgJ7Gpg7k429LU6UHlRAjdd7D7VSq_w0D5Eu0FlWjm0wBfnZRK72r1PQsKPg6WaY7OxO2glg5arLHvfmG32APlmFQE4p_WiJWohGXWoRuBnajw4AwJmI7fGJeAxemqUCnwq_x3uYvx7QeZKOdKsZtgWloBX3Ymw86VgrE85M5ybZvUD8OF9C2FU12SgdZg&response_mode=form_post&x-client-SKU=ID_NET472&x-client-ver=6.21.0.0"
							target="_blank"
							>Paylocity</a
						>
					</div>
				</div>
				<div class="bookmark-set">
					<div class="bookmark-title">Programming</div>
					<div class="bookmark-inner-container">
						<a class="bookmark" href="https://chat.openai.com/" target="_blank">Chat GPT</a>
						<a class="bookmark" href="https://codepen.io/your-work/" target="_blank">Codepen</a>
						<a class="bookmark" href="https://github.com" target="_blank">Github</a>
						<a class="bookmark" href="https://replit.com/~" target="_blank">Repl</a>
						<a class="bookmark" href="https://stackoverflow.com/" target="_blank">Stack Overflow</a>
						<a class="bookmark" href="https://vitest.dev/api/" target="_blank">Vitest Docks</a>
						<a class="bookmark" href="https://vuetifyjs.com/en/components/all/" target="_blank"
							>Vuetify Docs</a
						>
					</div>
				</div>

				<div class="bookmark-set">
					<div class="bookmark-title">Other</div>
					<div class="bookmark-inner-container">
						<a class="bookmark" href="http://localhost:3000" target="_blank">Localhost:3k</a>
						<a class="bookmark" href="https://reddit.com/r/startpages/" target="_blank">/r/startpages</a>
						<a class="bookmark" href="https://reddit.com/r/unixporn" target="_blank">/r/unixfun</a>
						<a class="bookmark" href="https://vscodethemes.com/dark" target="_blank">Dark Themes</a>
					</div>
				</div>
			</div>
		</div>

		<script>
			function search(e) {
				if (e.keyCode == 13) {
					let val = document.getElementById('search-field').value;
					window.open('https://google.com/search?q=' + val);
				}
			}
			// Get current time and format
			function getTime() {
				let date = new Date(),
					min = date.getMinutes(),
					sec = date.getSeconds(),
					hour = ((date.getHours() + 11) % 12) + 1; // convert to 12hr

				return (
					'' +
					(hour < 10 ? '0' + hour : hour) +
					':' +
					(min < 10 ? '0' + min : min) +
					':' +
					(sec < 10 ? '0' + sec : sec)
				);
			}

			window.onload = async () => {
				console.log('TEST LIVE');
				// const iframe = document.getElementById('myIframe');
				// const targetWindow = iframe.contentWindow;

				// const message = 'Your string data to be sent';
				// console.log('sending data:', { message });
				// targetWindow.postMessage(message, 'https://home.alazo.io/');

				let xhr = new XMLHttpRequest();
				// Request to open weather map
				xhr.open(
					'GET',
					'http://api.openweathermap.org/data/2.5/weather?zip=92571,us&units=imperial&appid=823f339a5727920bd13fe1508dfa2172'
				);
				xhr.onload = () => {
					if (xhr.readyState === 4) {
						if (xhr.status === 200) {
							let response = JSON.parse(xhr.responseText);
							document.getElementById('city').innerHTML = response.name;
							document.getElementById('temp').innerHTML = response.main.temp.toFixed(0) + ' F';
							document.getElementById('weather-description').innerHTML = response.weather[0].description;
						} else {
							console.log('error msg: ' + xhr.status);
						}
					}
				};
				xhr.send();
				// Set up the clock
				document.getElementById('clock').innerHTML = getTime();
				// Set clock interval to tick clock
				setInterval(() => {
					document.getElementById('clock').innerHTML = getTime();
				}, 100);
			};

			document.addEventListener('keydown', (event) => {
				if (event.keyCode == 32) {
					// Spacebar code to open search
					document.getElementById('search').style.display = 'flex';
					document.getElementById('search-field').focus();
				} else if (event.keyCode == 27) {
					// Esc to close search
					document.getElementById('search-field').value = '';
					document.getElementById('search-field').blur();
					document.getElementById('search').style.display = 'none';
				}
			});

			document.addEventListener('message', receiveMessage, false);

			function receiveMessage(event) {
				// Ensure the message is sent from an allowed origin
				if (event.origin === 'https://senderSubdomain.yourdomain.com') {
					// Access the received data from the message
					const receivedData = event.data;

					console.log('?????????????????', receivedData);
					// Store data in local storage
					localStorage.setItem('myData', receivedData);
				}
			}
		</script>
	</body>
</html>
